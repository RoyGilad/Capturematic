<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=0.5,  minimum-scale=0.5, maximum-scale=0.5">
        <title>Salesforce Hybrid Application Bootstrap Page</title>
      
        <link rel="stylesheet" href="resources/css/app.css">
        <link rel="stylesheet" href="resources/css/style.css">
        
        <script src="resources/lib/cordova-2.3.0.js"></script>
        <script src="resources/lib/SFHybridApp.js"></script>
        <script src="resources/lib/SalesforceOAuthPlugin.js"></script>
        <script src="bootconfig.js"></script>
        
        <!-- log window styling -->
        <style>
          .logWindow {display:none; width:700px;}
          .logWindow > p {padding:0px; margin:0px; word-wrap:break-word;}
        </style>

        <script>
            // Log JS errors to Cordova console
            window.onerror = function(message, url, lineNumber) {
              cordova.require("salesforce/util/logger").logToConsole("Error: "+message+" in "+url+" at line "+lineNumber);
            };
            
            document.addEventListener("deviceready", cordova.require("salesforce/util/bootstrap").onDeviceReady);
        </script>

        <script>
            document.addEventListener("bootstrapStatusEvent", handleStatus);
            function handleStatus(statusEvent) {
            	/**
            	 * If an error occurs, display a popup, and reload the page.
            	 */
                if (statusEvent.isError) {
                    alert(statusEvent.description);
                    location.reload();
                } else {
                    var statusDiv = document.getElementById("statusText");
                    statusDiv.innerHTML = statusEvent.description;
                }
            };
        </script>
    </head>

    <body>
      <div id="app-wrapper">
        <div id="main">
          <header>
            <h1>Loading...</h1>
          </header>
          <div id="app-content">
            <div id="status">
              <h2 style="margin: 0.75em;" id="statusText">Loading...</h2>
            </div>
            <fieldset id="errors" class="logWindow">
                <legend>Errors</legend>
            </fieldset>
            <fieldset id="console" class="logWindow">
                <legend>Debug Console</legend>
            </fieldset>
          </div>
        </div>
      </div>
    </body>
</html>
